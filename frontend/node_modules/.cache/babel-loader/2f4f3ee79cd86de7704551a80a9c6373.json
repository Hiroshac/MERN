{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pamud\\\\Desktop\\\\mern\\\\MERN\\\\frontend\\\\src\\\\components\\\\common\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login(props) {\n  _s();\n\n  useEffect(() => {\n    const loggedInUser = localStorage.getItem('user');\n\n    if (localStorage.getItem('admin')) {\n      window.location = '/admin';\n    }\n\n    if (loggedInUser != null) {\n      window.location = '/';\n    }\n  }, []); //  const [details, setDetails]=useState({email:\"\",password:\"\"});\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  if (props.logout) {\n    localStorage.removeItem('admin');\n    localStorage.removeItem('user');\n    window.location = '/';\n  }\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (props.admin) {\n      axios.post('http://localhost:5000/admin/login', {\n        email: email,\n        password: password\n      }).then(res => {\n        if (res.data == 'granted') {\n          // localStorage.setItem(\"user\", email);\n          localStorage.setItem('admin', true);\n          window.location = '/admin';\n        } else {\n          alert(\"Invalid Credntials\");\n        }\n      });\n    } else {\n      axios.post('http://localhost:5000/customer/login', {\n        email: email,\n        password: password\n      }).then(res => {\n        if (res.data == 'granted') {\n          localStorage.setItem('user', email);\n          window.location = '/';\n        } else {\n          alert(\"Invalid Credntials\");\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-toggle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-panel one\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Account Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-content\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: submitHandler,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"username\",\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                classNameName: \"center\",\n                type: \"text\",\n                id: \"username\",\n                name: \"username\",\n                required: \"required\",\n                onChange: e => setEmail(e.target.value),\n                value: email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"password\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                id: \"password\",\n                name: \"password\",\n                required: \"required\",\n                onChange: e => setPassword(e.target.value),\n                value: password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                children: \"Log In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"vNYz6KW8ImRrQBj658hWBHbkuKA=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","Login","props","loggedInUser","localStorage","getItem","window","location","email","setEmail","password","setPassword","logout","removeItem","submitHandler","e","preventDefault","admin","post","then","res","data","setItem","alert","target","value"],"sources":["C:/Users/pamud/Desktop/mern/MERN/frontend/src/components/common/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router'\r\nimport axios from 'axios'\r\n\r\n\r\nexport default function Login(props) {\r\n  useEffect(() => {\r\n    const loggedInUser = localStorage.getItem('user')\r\n    if (localStorage.getItem('admin')) {\r\n      window.location = '/admin'\r\n    }\r\n    if (loggedInUser != null) {\r\n      window.location = '/'\r\n    }\r\n  }, [])\r\n\r\n  //  const [details, setDetails]=useState({email:\"\",password:\"\"});\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  if (props.logout) {\r\n    localStorage.removeItem('admin')\r\n    localStorage.removeItem('user')\r\n    window.location = '/'\r\n  }\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n    if (props.admin) {\r\n      axios\r\n        .post('http://localhost:5000/admin/login', {\r\n          email: email,\r\n          password: password,\r\n        })\r\n        .then((res) => {\r\n          if (res.data == 'granted') {\r\n            // localStorage.setItem(\"user\", email);\r\n            localStorage.setItem('admin', true)\r\n            window.location = '/admin'\r\n          } else {\r\n            \r\n            alert(\"Invalid Credntials\")\r\n          }\r\n        })\r\n    } else {\r\n      axios\r\n        .post('http://localhost:5000/customer/login', {\r\n          email: email,\r\n          password: password,\r\n        })\r\n        .then((res) => {\r\n          if (res.data == 'granted') {\r\n            localStorage.setItem('user', email)\r\n            window.location = '/'\r\n          } else {\r\n            \r\n            alert(\"Invalid Credntials\")\r\n          }\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className='center'>\r\n        <div className='form-toggle'></div>\r\n        <div className='form-panel one'>\r\n          <div className='form-header'>\r\n            <h1>Account Login</h1>\r\n          </div>\r\n          <div className='form-content'>\r\n            <form onSubmit={submitHandler}>\r\n              <div className='form-group'>\r\n                <label for='username'>Username</label>\r\n                <input\r\n                  classNameName='center'\r\n                  type='text'\r\n                  id='username'\r\n                  name='username'\r\n                  required='required'\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  value={email}\r\n                />\r\n              </div>\r\n              <div className='form-group'>\r\n                <label for='password'>Password</label>\r\n                <input\r\n                  type='password'\r\n                  id='password'\r\n                  name='password'\r\n                  required='required'\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  value={password}\r\n                />\r\n              </div>\r\n\r\n              <div className='center'>\r\n                <button type='submit'>Log In</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}