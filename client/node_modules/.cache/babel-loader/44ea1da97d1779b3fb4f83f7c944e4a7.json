{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/pamud/Desktop/mern/MERN/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/pamud/Desktop/mern/MERN/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\pamud\\\\Desktop\\\\mern\\\\MERN\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var User=function User(props){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:props.user.name}),/*#__PURE__*/_jsx(\"td\",{children:props.user.position}),/*#__PURE__*/_jsx(\"td\",{children:props.user.email}),/*#__PURE__*/_jsx(\"td\",{children:props.user.phone}),/*#__PURE__*/_jsx(\"td\",{children:props.user.address}),/*#__PURE__*/_jsx(\"td\",{children:props.user.id}),/*#__PURE__*/_jsx(\"td\",{children:props.user.faculty}),/*#__PURE__*/_jsx(\"td\",{children:props.user.specialization}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-link\",to:\"/edituser/\".concat(props.user._id),children:\"Edit\"}),\" \",\"|\",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link\",onClick:function onClick(){props.deleteUser(props.user._id);},children:\"Delete\"})]})]});};export default function Viewusers(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];// This method fetches the records from the database.\nuseEffect(function(){function getUsers(){return _getUsers.apply(this,arguments);}function _getUsers(){_getUsers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,message,users;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5000/user/\");case 2:response=_context.sent;if(response.ok){_context.next=7;break;}message=\"An error occurred: \".concat(response.statusText);window.alert(message);return _context.abrupt(\"return\");case 7:_context.next=9;return response.json();case 9:users=_context.sent;setUsers(users);case 11:case\"end\":return _context.stop();}}},_callee);}));return _getUsers.apply(this,arguments);}getUsers();return;},[users.length]);//This method will delete a record\nfunction _deleteUser2(_x){return _deleteUser.apply(this,arguments);}// This method will map out the records on the table\nfunction _deleteUser(){_deleteUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var newUsers;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:5000/\".concat(id),{method:\"DELETE\"});case 2:newUsers=users.filter(function(el){return el._id!==id;});setUsers(newUsers);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _deleteUser.apply(this,arguments);}function userList(){return users.map(function(user){return/*#__PURE__*/_jsx(User,{user:user,deleteUser:function deleteUser(){return _deleteUser2(user._id);}},user._id);});}// This following section will display the table with the records of individuals.\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Users\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",style:{marginTop:50,width:700},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Position\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Contact Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"User ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Faculty\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Specialization\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:userList()})]})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","User","props","user","name","position","email","phone","address","id","faculty","specialization","_id","deleteUser","Viewusers","users","setUsers","getUsers","fetch","response","ok","message","statusText","window","alert","json","length","method","newUsers","filter","el","userList","map","marginTop","width"],"sources":["C:/Users/pamud/Desktop/mern/MERN/frontend/src/components/admin/Viewusers.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst User = (props) => (\r\n  <tr>\r\n    <td>{props.user.name}</td>\r\n    <td>{props.user.position}</td>\r\n    <td>{props.user.email}</td>\r\n    <td>{props.user.phone}</td>\r\n    <td>{props.user.address}</td>\r\n    <td>{props.user.id}</td>\r\n    <td>{props.user.faculty}</td>\r\n    <td>{props.user.specialization}</td>\r\n    <td>\r\n      <Link className=\"btn btn-link\" to={`/edituser/${props.user._id}`}>\r\n        Edit\r\n      </Link>{\" \"}\r\n      |\r\n      <button\r\n        className=\"btn btn-link\"\r\n        onClick={() => {\r\n          props.deleteUser(props.user._id);\r\n        }}\r\n      >\r\n        Delete\r\n      </button>\r\n    </td>\r\n  </tr>\r\n);\r\n\r\nexport default function Viewusers() {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  // This method fetches the records from the database.\r\n  useEffect(() => {\r\n    async function getUsers() {\r\n      const response = await fetch(`http://localhost:5000/user/`);\r\n\r\n      if (!response.ok) {\r\n        const message = `An error occurred: ${response.statusText}`;\r\n        window.alert(message);\r\n        return;\r\n      }\r\n\r\n      const users = await response.json();\r\n      setUsers(users);\r\n    }\r\n\r\n    getUsers();\r\n\r\n    return;\r\n  }, [users.length]);\r\n\r\n  //This method will delete a record\r\n  async function deleteUser(id) {\r\n    await fetch(`http://localhost:5000/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n\r\n    const newUsers = users.filter((el) => el._id !== id);\r\n    setUsers(newUsers);\r\n  }\r\n\r\n  // This method will map out the records on the table\r\n  function userList() {\r\n    return users.map((user) => {\r\n      return (\r\n        <User\r\n          user={user}\r\n          deleteUser={() => deleteUser(user._id)}\r\n          key={user._id}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  // This following section will display the table with the records of individuals.\r\n  return (\r\n  \r\n      <div>\r\n        <h3>Users</h3>\r\n        <table\r\n          className=\"table table-striped\"\r\n          style={{ marginTop: 50, width: 700 }}\r\n        >\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Position</th>\r\n              <th>Email</th>\r\n              <th>Contact Number</th>\r\n              <th>Address</th>\r\n              <th>User ID</th>\r\n              <th>Faculty</th>\r\n              <th>Specialization</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{userList()}</tbody>\r\n        </table>\r\n      </div>\r\n  )\r\n}\r\n"],"mappings":"2YAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,qBACX,mCACE,oBAAKA,KAAK,CAACC,IAAN,CAAWC,IAAhB,EADF,cAEE,oBAAKF,KAAK,CAACC,IAAN,CAAWE,QAAhB,EAFF,cAGE,oBAAKH,KAAK,CAACC,IAAN,CAAWG,KAAhB,EAHF,cAIE,oBAAKJ,KAAK,CAACC,IAAN,CAAWI,KAAhB,EAJF,cAKE,oBAAKL,KAAK,CAACC,IAAN,CAAWK,OAAhB,EALF,cAME,oBAAKN,KAAK,CAACC,IAAN,CAAWM,EAAhB,EANF,cAOE,oBAAKP,KAAK,CAACC,IAAN,CAAWO,OAAhB,EAPF,cAQE,oBAAKR,KAAK,CAACC,IAAN,CAAWQ,cAAhB,EARF,cASE,mCACE,KAAC,IAAD,EAAM,SAAS,CAAC,cAAhB,CAA+B,EAAE,qBAAeT,KAAK,CAACC,IAAN,CAAWS,GAA1B,CAAjC,kBADF,CAGU,GAHV,kBAKE,eACE,SAAS,CAAC,cADZ,CAEE,OAAO,CAAE,kBAAM,CACbV,KAAK,CAACW,UAAN,CAAiBX,KAAK,CAACC,IAAN,CAAWS,GAA5B,EACD,CAJH,oBALF,GATF,GADW,EAAb,CA2BA,cAAe,SAASE,CAAAA,SAAT,EAAqB,CAClC,cAA0Bf,QAAQ,CAAC,EAAD,CAAlC,wCAAOgB,KAAP,eAAcC,QAAd,eAEA;AACAlB,SAAS,CAAC,UAAM,SACCmB,CAAAA,QADD,kIACd,oLACyBC,CAAAA,KAAK,+BAD9B,QACQC,QADR,kBAGOA,QAAQ,CAACC,EAHhB,yBAIUC,OAJV,8BAI0CF,QAAQ,CAACG,UAJnD,EAKIC,MAAM,CAACC,KAAP,CAAaH,OAAb,EALJ,8DASsBF,CAAAA,QAAQ,CAACM,IAAT,EATtB,QASQV,KATR,eAUEC,QAAQ,CAACD,KAAD,CAAR,CAVF,uDADc,2CAcdE,QAAQ,GAER,OACD,CAjBQ,CAiBN,CAACF,KAAK,CAACW,MAAP,CAjBM,CAAT,CAmBA;AAvBkC,QAwBnBb,CAAAA,YAxBmB,+CAiClC;AAjCkC,2FAwBlC,kBAA0BJ,EAA1B,0JACQS,CAAAA,KAAK,iCAA0BT,EAA1B,EAAgC,CACzCkB,MAAM,CAAE,QADiC,CAAhC,CADb,QAKQC,QALR,CAKmBb,KAAK,CAACc,MAAN,CAAa,SAACC,EAAD,QAAQA,CAAAA,EAAE,CAAClB,GAAH,GAAWH,EAAnB,EAAb,CALnB,CAMEO,QAAQ,CAACY,QAAD,CAAR,CANF,wDAxBkC,6CAkClC,QAASG,CAAAA,QAAT,EAAoB,CAClB,MAAOhB,CAAAA,KAAK,CAACiB,GAAN,CAAU,SAAC7B,IAAD,CAAU,CACzB,mBACE,KAAC,IAAD,EACE,IAAI,CAAEA,IADR,CAEE,UAAU,CAAE,4BAAMU,CAAAA,YAAU,CAACV,IAAI,CAACS,GAAN,CAAhB,EAFd,EAGOT,IAAI,CAACS,GAHZ,CADF,CAOD,CARM,CAAP,CASD,CAED;AACA,mBAEI,oCACE,6BADF,cAEE,eACE,SAAS,CAAC,qBADZ,CAEE,KAAK,CAAE,CAAEqB,SAAS,CAAE,EAAb,CAAiBC,KAAK,CAAE,GAAxB,CAFT,wBAIE,oCACE,mCACE,4BADF,cAEE,gCAFF,cAGE,6BAHF,cAIE,sCAJF,cAKE,+BALF,cAME,+BANF,cAOE,+BAPF,cAQE,sCARF,GADF,EAJF,cAgBE,uBAAQH,QAAQ,EAAhB,EAhBF,GAFF,GAFJ,CAwBD"},"metadata":{},"sourceType":"module"}